<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elite Leaderboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .gold { background: linear-gradient(135deg, #FFD700 0%, #FDB931 100%); color: #432c00; }
        .silver { background: linear-gradient(135deg, #C0C0C0 0%, #8E8E8E 100%); color: #1a1a1a; }
        .bronze { background: linear-gradient(135deg, #CD7F32 0%, #A0522D 100%); color: #ffffff; }
        .card-glass { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.1); }
    </style>
</head>
<body class="bg-[#0f172a] text-slate-200 font-sans min-h-screen">

    <div class="max-w-4xl mx-auto px-4 py-10">
        <div class="text-center mb-12">
            <h1 class="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 mb-2">
                CHAMPIONS
            </h1>
            <h1 class="text-5xl font-black bg-clip-text">üèÜ</h1>
            <br>
            <p class="text-slate-400 tracking-widest uppercase text-sm">Seasonal Rankings ‚Ä¢ 2026</p>
        </div>

        <div class="card-glass rounded-3xl shadow-2xl overflow-hidden">
            <div class="overflow-x-auto">
                <table class="w-full text-left border-collapse">
                    <thead>
                        <tr class="text-slate-500 text-xs uppercase tracking-widest border-b border-slate-700">
                            <th class="px-6 py-5">Rank</th>
                            <th class="px-6 py-5">Participant</th>
                            <th class="px-6 py-5">SQL</th>
                            <th class="px-6 py-5">Coding</th>
                            <th class="px-6 py-5">DSA</th>
                            <th class="px-6 py-5 text-right">Total</th>
                        </tr>
                    </thead>
                    <tbody id="leaderboard-content">
                        </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        async function loadLeaderboard() {
            try {
                // Fetching the JSON file we created
                const response = await fetch('data.json');
                const data = await response.json();

                const container = document.getElementById('leaderboard-content');

                // Logic: Add scores and Sort by Total
                const sortedData = data.map(user => ({
                    ...user,
                    total: (user.sql || 0) + (user.coding || 0) + (user.dsa || 0)
                })).sort((a, b) => b.total - a.total);

                container.innerHTML = sortedData.map((user, index) => {
                    let rankBadge = index + 1;
                    let rowStyle = "";
                    
                    // Assign Medals
                    if(index === 0) rankBadge = `<span class="gold px-3 py-1 rounded-full text-xs font-bold">1st</span>`;
                    else if(index === 1) rankBadge = `<span class="silver px-3 py-1 rounded-full text-xs font-bold">2nd</span>`;
                    else if(index === 2) rankBadge = `<span class="bronze px-3 py-1 rounded-full text-xs font-bold">3rd</span>`;

                    return `
                        <tr class="border-b border-slate-800/50 hover:bg-slate-800/30 transition-colors">
                            <td class="px-6 py-4 font-bold text-slate-400">${rankBadge}</td>
                            <td class="px-6 py-4 font-semibold text-white">${user.name}</td>
                            <td class="px-6 py-4 text-slate-400">${user.sql}</td>
                            <td class="px-6 py-4 text-slate-400">${user.coding}</td>
                            <td class="px-6 py-4 text-slate-400">${user.dsa}</td>
                            <td class="px-6 py-4 text-right">
                                <span class="text-xl font-mono font-bold text-cyan-400">${user.total}</span>
                            </td>
                        </tr>
                    `;
                }).join('');

            } catch (error) {
                console.error("Error loading data:", error);
                document.getElementById('leaderboard-content').innerHTML = `<tr><td colspan="6" class="p-10 text-center text-red-400">Failed to load scores. Check data.json format.</td></tr>`;
            }
        }

        loadLeaderboard();
    </script>
</body>
</html>